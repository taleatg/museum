(()=>{"use strict";let e,t,n,o,l,r=!1;function c(){t.style.display="none",o.classList.remove("active"),l.classList.remove("active"),r=!1}const i=document.querySelector(".music-play"),a=document.querySelector("#audio"),s=document.querySelector("video");let u,d,m,g,v,y,p,f,L,h,b,S=!1;(new Image).src="./assets/svg/music-svg/pause.svg";let k=new Image;function w(e){let t=e.querySelector(".video__link"),n=e.querySelector(".video__media"),o=e.querySelector(".video__button"),l=e.querySelector(".video__icon"),r=function(e){return e.src.match(/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/sddefault\.jpg/i)[1]}(n);e.addEventListener("click",(()=>{for(let e=0;e<y.length;e++)y[e].querySelector("iframe")&&q();let n=function(e){let t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay"),t.setAttribute("src",function(e){return"https://www.youtube.com/embed/"+e+"?rel=0&showinfo=0&autoplay=1&enablejsapi=1."}(e)),t.classList.add("video__media"),S=!0,t}(r);p=t,f=o,L=l,t.remove(),o.remove(),e.appendChild(n),h.pause(),b.innerHTML="",b.append(k)})),t.removeAttribute("href"),e.classList.add("video-iframe__active")}function q(){const e=document.querySelectorAll("iframe");let t,n=document.querySelectorAll(".video-iframe");for(let e=0;e<n.length;e++)n[e].querySelector("iframe")&&(t=e);for(let o=0;o<e.length;o++)e[o].remove(),n[t].appendChild(p),n[t].appendChild(f),n[t].appendChild(L)}k.src="./assets/svg/music-svg/play.svg";let E=!1,_=new Image;_.src="./assets/svg/music-svg/pause.svg";let C=new Image;C.src="./assets/svg/music-svg/play.svg";let T,M,H,I,A,x,B,F,$,D,R,j,z,Y=["1.mp3","2.mp3","3.mp3","4.mp3","5.mp3","6.mp3","7.mp3","8.mp3","9.mp3"],K=0;function N(){K<Y.length-1?(K++,a.src=`./assets/music/${Y[K]}`):(K=0,a.src=`./assets/music/${Y[K]}`),W()}function X(){K>0?(K--,a.src=`./assets/music/${Y[K]}`):(K=Y.length-1,a.src=`./assets/music/${Y[K]}`),W()}function O(){a.pause(),i.innerHTML="",i.append(C)}function W(){Z&&ce(),S&&q(),a.paused?(a.play(),i.innerHTML="",i.appendChild(_),E=!0):(O(),E=!1)}a.volume=.04,s.volume=.5;let Z=!1,G=["video0.mp4","video1.mp4","video2.mp4","video3.mp4","video4.mp4"],P=["poster0.jpg","poster1.jpg","poster2.jpg","poster3.jpg","poster4.jpg"],J=0,U=0;function V(e="",t=[]){const n=new Image;return e&&(n.src=e),t.length&&n.classList.add(...t),n}const Q=V("./assets/svg/volum.svg",["volumeImg"]),ee=V("./assets/svg/mute.svg",["volumeImg"]),te=V("./assets/svg/button_play.svg",["bigPlay"]),ne=V("./assets/svg/play.svg",["toggleImg"]),oe=V("./assets/svg/pause.svg",["toggleImg"]),le=V("",["fullscreenImg"]);function re(){s.pause(),T.innerHTML="",T.appendChild(te),Z=!1}function ce(){s.paused?(s.play(),T.innerHTML="",Z=!0,O()):(re(),E&&W())}function ie(){H.innerHTML="",H.appendChild(s.paused?ne:oe)}function ae(){const e=this.value;this.style.background=`linear-gradient(to right, #710707 0%, #710707 ${100*e}%, #C4C4C4 ${100*e}%, #C4C4C4 100%)`}function se(){s.muted=!0,I.innerHTML="",I.appendChild(ee)}function ue(){s.muted=!1,I.innerHTML="",I.appendChild(Q)}function de(){s.volume=A.value,"0"===A.value?se():ue()}function me(){let e=s.volume;s.muted&&0!==e?(ue(),A.value=e,A.style.background=`linear-gradient(to right, #710707 0%, #710707 ${100*e}%, #C4C4C4 ${100*e}%, #C4C4C4 100%)`):(se(),A.value=0,A.style.background="linear-gradient(to right, #C4C4C4 0%, #C4C4C4 100%)")}function ge(){const e=this.value;this.style.background=`linear-gradient(to right, #710707 0%, #710707 ${e}%, #C4C4C4 ${e}%, #C4C4C4 100%)`}function ve(){if(M.value=s.currentTime/s.duration*100||0,M.style.background=`linear-gradient(to right, #710707 0%, #710707 ${M.value}%, #C4C4C4 ${M.value}%, #C4C4C4 100%)`,100==M.value)return T.innerHTML="",void T.appendChild(te)}function ye(e){s.currentTime=e.target.value*s.duration/100,ve()}function pe(){x.blur(),document.fullscreenElement?(le.src="./assets/svg/fullscreen.svg",x.innerHTML="",x.appendChild(le),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullscreen?document.mozCancelFullscreen():document.msExitFullscreen&&document.msExitFullscreen()):(le.src="./assets/svg/fullscreen_exit.svg",x.innerHTML="",x.appendChild(le),B.requestFullscreen?B.requestFullscreen():B.mozRequestFullscreen?B.mozRequestFullscreen():B.msRequestFullscreen&&B.msRequestFullscreen())}function fe(e){s.currentTime=s.currentTime-e,j.classList.add("rewind-left__active"),setTimeout((function(){j.classList.remove("rewind-left__active")}),1e3)}function Le(e){s.currentTime=s.currentTime+e,z.classList.add("rewind-right__active"),setTimeout((function(){z.classList.remove("rewind-right__active")}),1e3)}function he(){R.innerHTML=`${s.playbackRate}x`,R.classList.add("speed-video__active"),setTimeout((function(){R.classList.remove("speed-video__active")}),1e3)}function be(){for(;J<5;){J++,5===J&&(J=0),s.src="./assets/video/"+G[J],s.poster="./assets/video/posters/"+P[J],H.innerHTML="",H.appendChild(ne),T.innerHTML="",T.appendChild(te);break}}function Se(){for(;J>=0;){J--,-1===J&&(J=4),s.src="./assets/video/"+G[J],s.poster="./assets/video/posters/"+P[J],H.innerHTML="",H.appendChild(ne),T.innerHTML="",T.appendChild(te);break}}function ke(e){if(!r){switch(0===s.volume&&"KeyM"===e.code&&(I.innerHTML="",I.appendChild(ee)),e.code){case"KeyM":me();break;case"KeyF":pe();break;case"Space":case"KeyK":ce();break;case"Home":s.currentTime=0;break;case"End":s.currentTime=s.duration;break;case"ArrowUp":!function(){for(;s.volume>=0&&s.volume<=1;){s.volume+=.1,A.value=s.volume,ue();break}}();break;case"ArrowDown":!function(){for(;s.volume>=0&&s.volume<=1;){s.volume=Math.floor(10*(s.volume-.1))/10,A.value=s.volume;break}"0"===A.value&&(I.innerHTML="",I.appendChild(ee))}();break;case"ArrowLeft":fe(5);break;case"ArrowRight":Le(5);break;case"KeyJ":fe(10);break;case"KeyL":Le(10);break;case"KeyP":Te();break;case"KeyN":_e()}for(let t=0;t<=9;t++)if(e.code===`Digit${t}`){s.currentTime=s.duration*`0.${t}`,ve();break}"<"!==e.key&&188!==e.keyCode||s.playbackRate>.25&&(s.playbackRate-=.25,he()),">"!==e.key&&190!==e.keyCode||s.playbackRate<2&&(s.playbackRate+=.25,he())}}function we(e){for(let e of F)e.classList.remove("active");F[e].classList.add("active")}function qe(e){we(e),function(e){for(let e of D)e.classList.remove("active");D[e].classList.add("active")}(e)}function Ee(e){let t=F[e].parentNode.removeChild(F[0]);$.appendChild(t),F=document.querySelectorAll(".slide"),qe(e),be()}function _e(){U===F.length-1?(U=0,Ee(U)):(U++,Ee(U))}function Ce(e){let t=F[e].parentNode.removeChild(F[F.length-1]);$.insertBefore(t,F[0]),F=document.querySelectorAll(".slide"),qe(e),Se()}function Te(){0===U?(U=F.length-1,Ce(U)):(U--,Ce(U))}function Me(){s.pause(),T.innerHTML="",T.appendChild(te)}let He,Ie,Ae,xe,Be,Fe,$e,De,Re,je,ze,Ye,Ke,Ne,Xe,Oe,We,Ze,Ge,Pe,Je,Ue;function Ve(e,t){e>0&&(e--,document.getElementById(t).value=e,document.getElementById("book-"+t).value=e,document.querySelector(".amount-tickets__"+t).innerHTML=e,"basic"===t?He--:Ie--,et(),localStorage.setItem(t,e))}function Qe(e,t){e<20&&(e++,document.getElementById(t).value=e,document.getElementById("book-"+t).value=e,document.querySelector(".amount-tickets__"+t).innerHTML=e,"basic"===t?He++:Ie++,et(),localStorage.setItem(t,e))}function et(){Pe=document.querySelector('input[name="radio"]:checked').value,ot(Pe)}function tt(e,t){Ke[0].innerHTML=Ke[1].innerHTML=e+" €",Ne[0].innerHTML=Ne[1].innerHTML=t+" €",nt()}function nt(){Xe.innerHTML=Ae*He+" €",Oe.innerHTML=xe*Ie+" €"}function ot(e){var t;t=e,Ge.value=t,ze.innerHTML=t,"Permanent exhibition"===t?(Ae=20,xe=10,tt(Ae,xe)):"Temporary exhibition"===t?(Ae=25,xe=12.5,tt(Ae,xe)):"Combined admission"===t&&(Ae=40,xe=20,tt(Ae,xe)),localStorage.setItem("type",t),localStorage.setItem("value1",Ae),localStorage.setItem("value2",xe),Fe=Ae*He+xe*Ie,Be.innerHTML=Fe,Ye.innerHTML=Fe+" €",localStorage.setItem("total",Fe)}function lt(e){for(let t=0;t<$e.length;t++)if($e[t].value===e){$e[t].checked=!0,Ge.value=$e[t].value;break}}function rt(){document.querySelector(".payment__date ").innerHTML=We.toLocaleDateString("en-BR",Ze),lt(Re),Be.innerHTML=De||30,Ye.innerHTML=(De||30)+" €",document.getElementById("basic").value=He||1,document.getElementById("book-basic").value=He||1,document.querySelector(".amount-tickets__basic").innerHTML=He||1,document.getElementById("senior").value=Ie||1,document.getElementById("book-senior").value=Ie||1,document.querySelector(".amount-tickets__senior").innerHTML=Ie||1,ze.innerHTML=localStorage.getItem("type")||$e[0].value,Ke[0].innerHTML=Ke[1].innerHTML=(localStorage.getItem("value1")||20)+" €",Ne[0].innerHTML=Ne[1].innerHTML=(localStorage.getItem("value2")||10)+" €",Xe.innerHTML=(localStorage.getItem("value1")*He||20)+" €",Oe.innerHTML=(localStorage.getItem("value2")*Ie||10)+" €"}let ct,it,at,st,ut,dt,mt,gt,vt,yt,pt,ft,Lt,ht=["galery1","galery2","galery3","galery4","galery5","galery6","galery7","galery8","galery9","galery10","galery11","galery12","galery13","galery14","galery15"];function bt(){for(let e=0;e<Ue.length;e++){let t=Ue[e];const n=t.offsetHeight,o=St(t).top,l=-550;let r=window.innerHeight-l;n>window.innerHeight&&(r=window.innerHeight-window.innerHeight/l),pageYOffset>o-r?t.classList.add("gallery-picture__active"):t.classList.remove("gallery-picture__active")}}function St(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageXOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}function kt(){ct.classList.toggle("burger-overlay__active"),it.classList.toggle("burger-img__active"),at.classList.toggle("burger-active"),st.classList.toggle("burger-menu"),ut.classList.toggle("not-show"),dt.classList.toggle("not-show"),mt.classList.toggle("not-show")}function wt(){ct.classList.toggle("burger-overlay__active"),it.classList.toggle("burger-img__active"),at.classList.remove("burger-active"),st.classList.remove("burger-menu"),ut.classList.remove("not-show"),dt.classList.remove("not-show"),mt.classList.remove("not-show")}let qt,Et,_t,Ct=["01","02","03","04","05"];function Tt(e){!function(e){for(let e of pt)e.classList.remove("welcome__slide-active");pt[e].classList.add("welcome__slide-active")}(e),function(e){for(let e of Lt)e.classList.remove("welcome__slide-active");Lt[e].classList.add("welcome__slide-active")}(e),ft.innerText=Ct[e]}function Mt(){gt===pt.length-1?(gt=0,Tt(gt)):(gt++,Tt(gt))}function Ht(){0===gt?(gt=pt.length-1,Tt(gt)):(gt--,Tt(gt))}!function(e){let t=document.querySelector(".img-container"),n=0,o=0,l=0,r=0,c=0,i=0;t.addEventListener("mousedown",(function(e){n=e.pageX,o=e.pageY,c=(new Date).getTime(),e.preventDefault()}),!1),t.addEventListener("mouseup",(function(e){l=e.pageX-n,r=e.pageY-o,i=(new Date).getTime()-c,i<=300&&Math.abs(l)>=150&&Math.abs(r)<=100&&(l>0?Ht():Mt()),e.preventDefault()}),!1)}(),function(){document.querySelector(".video"),B=document.querySelector(".video-fullscreen"),T=document.querySelector(".video-buttons__bigplay"),M=document.querySelector(".progress"),H=document.querySelector(".toggle"),I=document.querySelector(".volume"),A=document.querySelector(".volume-bar"),x=document.querySelector(".fullscreen"),F=document.querySelectorAll(".slide"),$=document.querySelector(".slider"),D=document.querySelectorAll(".dot"),document.querySelector(".slide");const e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");R=document.querySelector(".speed-video"),j=document.querySelector(".rewind-left"),z=document.querySelector(".rewind-right");const n=document.querySelectorAll(".video-iframe");M.value=0,M.style.background="#C4C4C4",window.onkeydown=function(e){return!(32==e.keyCode&&"text"!=e.target.type&&"textarea"!=e.target.type)},D.forEach(((e,t)=>{e.addEventListener("click",(()=>{let e=U;U=t,qe(U),e<U?function(e,t){let n=e-t;for(;n>0;){let t=F[n].parentNode.removeChild(F[0]);$.appendChild(t),F=document.querySelectorAll(".slide"),we(e),be(),n--}}(U,e):function(e,t){let n=t;for(;n>e;){let t=F[n].parentNode.removeChild(F[F.length-1]);$.insertBefore(t,F[0]),F=document.querySelectorAll(".slide"),we(e),Se(),n--}}(U,e)}))})),n.forEach((e=>{e.addEventListener("click",Me)})),s.addEventListener("click",ce),s.addEventListener("play",ie),s.addEventListener("pause",ie),s.addEventListener("timeupdate",ve),T.addEventListener("click",ce),M.addEventListener("change",ye),M.addEventListener("input",ge),I.addEventListener("click",me),A.addEventListener("change",de),A.addEventListener("input",ae),H.addEventListener("click",ce),document.addEventListener("keydown",ke),x.addEventListener("click",pe),e.addEventListener("click",Te),t.addEventListener("click",_e)}(),function(){const e=document.querySelectorAll(".basic-button-minus"),t=document.querySelectorAll(".basic-button-plus"),n=document.querySelectorAll(".senior-button-minus"),o=document.querySelectorAll(".senior-button-plus");$e=document.querySelectorAll(".radio-tickets"),He=localStorage.getItem("basic")||1,Ie=localStorage.getItem("senior")||1,Be=document.querySelector(".euro"),De=localStorage.getItem("total"),Re=localStorage.getItem("type"),ze=document.querySelector(".payment__tickets-type"),Ye=document.querySelector(".total__value-payment"),Ke=document.querySelectorAll(".cost-current-type__basic"),Ne=document.querySelectorAll(".cost-current-type__senior"),Xe=document.querySelector(".cost-basic"),Oe=document.querySelector(".cost-senior"),Ge=document.getElementById("select"),je=document.querySelector(".date"),Fe=0,e.forEach((e=>{e.addEventListener("click",(()=>Ve(He,"basic")))})),t.forEach((e=>{e.addEventListener("click",(()=>Qe(He,"basic")))})),n.forEach((e=>{e.addEventListener("click",(()=>Ve(Ie,"senior")))})),o.forEach((e=>{e.addEventListener("click",(()=>Qe(Ie,"senior")))})),$e.forEach((e=>{e.addEventListener("click",et)})),Ge.onchange=function(){Je=Ge.value,ot(Je),lt(Je)},window.addEventListener("DOMContentLoaded",rt),We=new Date,Ze={month:"long",day:"numeric",weekday:"long"},document.getElementById("date").min=We.getFullYear()+"-"+(+We.getMonth()+1)+"-"+We.getDate(),document.getElementById("date").max=We.getFullYear()+"-"+(+We.getMonth()+5)+"-"+We.getDate(),document.getElementById("time").onchange=function(){document.querySelector(".payment__time ").innerHTML=document.getElementById("time").value||"09:00"},document.getElementById("date").onchange=function(){let e=new Date(document.getElementById("date").value);document.querySelector(".payment__date ").innerHTML=e.toLocaleDateString("en-BR",Ze)}}(),Ue=document.querySelectorAll(".gallery-picture"),window.reload=function(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}(ht),window.onload=bt(),window.addEventListener("scroll",bt),ht.map(((e,t)=>{const n=document.createElement("img");n.classList.add("gallery-picture__size"),n.src=`./assets/img/galery/${e}.jpg`,n.alt=`${e}`,n.setAttribute("loading","lazy"),Ue[t].append(n)})),e=document.querySelector(".button-total"),t=document.querySelector(".overlay"),o=document.querySelector(".booking-tickets__container"),n=document.querySelector(".tickets-close"),l=document.querySelector(".booking"),window.onload=(e.addEventListener("click",(function(){t.style.display="block",o.classList.add("active"),l.classList.add("active"),r=!0,re()})),t.addEventListener("click",c),void n.addEventListener("click",c)),function(){mapboxgl.accessToken="pk.eyJ1IjoidGFsZWF0ZyIsImEiOiJja3UwNTZ4d20yM2NkMnFxbmg3YTh3YmhwIn0.G-rYGFP-XAT_YXcz0j-ZVA";const e=new mapboxgl.Map({container:"map",center:[2.3363,48.86091],zoom:15.78,style:"mapbox://styles/mapbox/light-v10"});new mapboxgl.Marker({color:"black",draggable:!1}).setLngLat([2.33638,48.860845]).addTo(e),new mapboxgl.Marker({color:"grey",draggable:!1}).setLngLat([2.3333,48.86014]).addTo(e),new mapboxgl.Marker({color:"grey",draggable:!1}).setLngLat([2.33965,48.86064]).addTo(e),new mapboxgl.Marker({color:"grey",draggable:!1}).setLngLat([2.333,48.86184]).addTo(e),new mapboxgl.Marker({color:"grey",draggable:!1}).setLngLat([2.33648,48.86243]).addTo(e),e.addControl(new mapboxgl.NavigationControl)}(),document.querySelector(".button-book").addEventListener("click",(function(e){let t=document.createElement("div"),n=Math.max(this.clientWidth,this.clientHeight),o=this.getBoundingClientRect();t.style.width=t.style.height=n+"px",t.style.left=e.clientX-o.left-n/2+970+"px",t.style.top=e.clientY-o.top-n/2+673+"px",t.classList.add("riple"),this.appendChild(t)})),function(){at=document.querySelector(".burger"),st=document.querySelector(".header-menu"),ut=document.querySelector(".welcome-title"),dt=document.querySelector(".welcome-subtitle"),mt=document.querySelector(".welcome-button");const e=document.querySelectorAll(".menu__item");ct=document.querySelector(".burger-overlay"),it=document.querySelector(".burger-img");const t=document.querySelectorAll(".social");e.forEach((e=>{e.addEventListener("click",(()=>{wt()}))})),t.forEach((e=>{e.addEventListener("click",(()=>{wt()}))})),at.addEventListener("click",kt),ct.addEventListener("click",wt)}(),u=document.querySelector("video"),d=document.querySelector(".toggle"),m=document.querySelector(".slide-navigation"),g=document.querySelector(".video-buttons__bigplay"),v=m.querySelectorAll(".navigation"),y=document.querySelectorAll(".video-iframe"),h=document.querySelector("#audio"),b=document.querySelector(".music-play"),v.forEach((e=>{e.addEventListener("click",q)})),u.addEventListener("click",q),d.addEventListener("click",q),g.addEventListener("click",q),function(){for(let e=0;e<y.length;e++)w(y[e])}(),function(){const e=document.querySelector(".separator-container");let t,n=document.getElementsByClassName("before");for(let e=0;e<n.length;e++)o(n[e]);function o(n){let o=n.offsetWidth+33;function l(e){e.preventDefault(),t=1,window.addEventListener("mousemove",c),window.addEventListener("touchmove",c)}function r(){t=0}function c(l){if(0==t)return!1;let r=function(e){e=e||window.event;let t=n.getBoundingClientRect(),o=0;return o=e.pageX-t.left,o-=window.pageXOffset,o}(l);r<0&&(r=0),r>o&&(r=o),function(t){t>720&&(t=720),n.style.width=t+"px",e.style.left=n.offsetWidth-e.offsetWidth/2+"px"}(r)}n.offsetHeight,n.style.width="61%",e.addEventListener("mousedown",l),window.addEventListener("mouseup",r),e.addEventListener("touchstart",l),window.addEventListener("touchstop",r)}}(),vt=document.querySelector(".navigation-right"),yt=document.querySelector(".navigation-left"),pt=document.querySelectorAll(".welcome__one-slide"),Lt=document.querySelectorAll(".welcome-slider__navigation"),ft=document.querySelector(".welcome-slider__current-slide"),gt=0,Lt.forEach(((e,t)=>{e.addEventListener("click",(function(){gt=t,Tt(gt)}))})),vt.addEventListener("click",Mt),yt.addEventListener("click",Ht),function(){const e=document.querySelector(".music-right"),t=document.querySelector(".music-left");let n=new Date;const o=document.querySelector(".current-date"),l=n.toLocaleDateString("en-BR",{month:"long",day:"numeric",year:"numeric",weekday:"long"});o.textContent=l,e.addEventListener("click",N),t.addEventListener("click",X),i.addEventListener("click",W)}(),Et=/^[\w-]{3,15}@[a-z]{4,}\.[a-z]{2,}$/,qt=document.querySelector(".data-email"),_t=document.querySelector(".email-error"),qt.addEventListener("input",(function(){var e;qt.addEventListener("blur",(function(){_t.style.display="none",qt.style.borderColor="black"})),e=qt.value,Et.test(e)?(qt.style.borderColor="green",_t.style.display="none"):(qt.style.borderColor="red",_t.style.display="block")})),console.log("1. Слайдер в секции Welcome +20 (слайды не перелистываются плавно с анимацией -4)"),console.log("2. Слайдер в секции Video +18 (слайды не перелистываются плавно с анимацией -2)"),console.log("3. Кастомный видеоплеер +36"),console.log("4. Слайдер сравнения изображений в секции Explore +10"),console.log("5. Анимация при прокрутке изображений в секции Galery +8"),console.log("6. Калькулятор продажи билетов в секции Tiskets +10"),console.log("7. Калькулятор продажи билетов в форме продажи билетов +14"),console.log("8. Валидация формы +16"),console.log("9. Интерактивная карта в секции Contacts +12"),console.log("10. Cобственный дополнительный функционал (добавлена дата и фоновая музыка, закрепленные в верху страницы) +10"),console.log("Итого: 154/160")})();